<!--
  SPDX-FileCopyrightText: 2023 Jan Nieuwstad <jan.sources@nieuwstad.net>
  SPDX-License-Identifier: CERN-OHL-W-2.0
-->

[![REUSE status](https://api.reuse.software/badge/GitHub.com/fietser28/I2C-Encoder-Keys)](https://api.reuse.software/info/GitHub.com/fietser28/I2C-Encoder-Keys)

# Introduction

This is simple design to connect a rotary encoder with pushbutton and 4 switches to an MCU using I2C. The design uses the common MCP23008 chip. The BOM is kept simple with as many common parts as possible. The encoder and switches have a small RC network in place for basic debouncing (you still need to handle this also in software).

The board breaks out 3V3 power input, GND, SCL, SDA, Interrupt and !Reset.

The board provides pull up resistors for SCL, SDA and the !RESET pin. For each of them there also is a jumper to disable them.

![alt Raytraced front of PCB with components](images/PCB%20render%20v1.jpg)

NOTE: The rendering above has an encoder with round shaft, the knob is for an encoder with a D shaped shaft.

![alt Raytraced case with knob](images/Case-w-Top.png)

![alt Photo of assembled case with knob](images/Final-case.jpg)


This board can be daisy chained. You just have to make sure each board uses a different addres by changing the jumpers A0,A1 and/or A2. Make sure you use the opendrain configuration of the interrupt pin if you want to use interrupts in this case.

# Files

 - The directory I2C-Encoder-Keys contains the KiCad (6) design files.
 - The BOM directory contains an bill of material generated by KiCad
 - 3D contains FreeCad design and 3D printable files (STL) for a case.
 - The root directory contains PDF of the schematic and PCB design.

# License 

This hardware design is under the [CERN Open Hardware Licence Version 2 - Weakly Reciprocal](LICENSES/CERN-OHL-W-4.0.txt)
Illustrations are under the [CERN Open Hardware Licence Version 2 - Weakly Reciprocal](LICENSES/CC-BY-SA-4.0.txt)

This project contains 3D models from others:
- [JST PH connector](https://grabcad.com/library/jst-ph-2-0mm-connector-pack-through-hole-smt-ds1066-1) from Sig Elso <https://grabcad.com/sig.elso-1>
- [Rotary encoder](https://grabcad.com/library/ec11-rotary-encoder-with-switch-1) from Anthony Berkow <https://grabcad.com/anthony.berkow-1>

